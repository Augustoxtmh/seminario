generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Gruero {
  GrueroID       Int         @id @default(autoincrement())
  NombreGruero   String
  TelefonoGruero String
  DeAlta         Boolean     @default(true)
  pedidos        PedidoGrua[]
}

model PedidoGrua {
  PedidoID        Int         @id @default(autoincrement())
  FechaHoraPedido DateTime
  NombreCliente   String
  GrueroID        Int         
  Patente         String
  DeAlta          Boolean     @default(true)
  Gruero          Gruero?     @relation(fields: [GrueroID], references: [GrueroID])
}

model Vehiculo {
  Patente  String  @id
  Marca    String
  Color    String
  TipoPlan String
  Modelo   String
  DeAlta    Boolean     @default(true)
  Poliza   Poliza?
}

model Cuota {
  cuotaId          Int      @id @default(autoincrement())
  NumCuota         Int
  FechaVencimiento DateTime
  Monto            Float
  NumeroPoliza     String
  Poliza           Poliza?  @relation(fields: [NumeroPoliza], references: [NumeroPoliza])
}

model Poliza {
  NumeroPoliza String  @id
  Vigencia     DateTime
  Telefono     String
  DeAlta    Boolean     @default(true)
  Patente      String   @unique
  Vehiculo     Vehiculo @relation(fields: [Patente], references: [Patente])
  cuotas       Cuota[]
}

enum TipoUsuario {
  A
  U
}

model Usuario {
  Id        Int         @id @default(autoincrement())
  Nombre    String
  Contra    String
  Autoridad TipoUsuario @default(U)
  DeAlta    Boolean     @default(true)
}
